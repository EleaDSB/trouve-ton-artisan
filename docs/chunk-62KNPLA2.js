import{a as H,c as U,e as Y,j as W}from"./chunk-TCHEB4EU.js";import{a as v}from"./chunk-LHCXRIZS.js";import{a as N}from"./chunk-63662UX2.js";import{$ as T,A as l,B as g,D as P,H as o,I as h,L as d,N as m,P as n,Q as i,R as c,S as A,T as _,U as u,W as s,X as f,Y as x,Z as S,_ as E,aa as L,ca as I,h as C,ha as F,ia as B,ja as R,na as z,r as M,sa as V,t as w,ta as j,va as D,y as k,z as O,za as G}from"./chunk-XIRYAAX2.js";function X(a,p){if(a&1&&(n(0,"p",31),s(1),i()),a&2){let t=u().$implicit;o(),f(t.entreprise)}}function q(a,p){a&1&&(l(),n(0,"svg",32),c(1,"path",33),i())}function Z(a,p){if(a&1){let t=A();n(0,"div",13),_("click",function(){let r=k(t).$implicit,b=u();return O(b.goToArtisanDetail(r.id))}),n(1,"div",14)(2,"h3",15),s(3),i(),d(4,X,2,1,"p",16),i(),n(5,"div",17)(6,"div",18),d(7,q,2,0,"svg",19),i(),n(8,"span",20),s(9),i()(),n(10,"div",21)(11,"span",22),s(12),i()(),n(13,"div",23),l(),n(14,"svg",24),c(15,"path",25)(16,"path",26),i(),g(),n(17,"span",27),s(18),i()(),n(19,"div",28),l(),n(20,"svg",29),c(21,"path",30),i()()()}if(a&2){let t=p.$implicit,e=u();o(3),f(t.nom),o(),m("ngIf",t.entreprise),o(3),m("ngForOf",e.getStars(t.note)),o(2),x("",t.note,"/5"),o(3),x(" ",t.specialite," "),o(6),f(t.ville)}}function $(a,p){a&1&&(n(0,"div",34)(1,"div",35),l(),n(2,"svg",36),c(3,"path",9),i(),g(),n(4,"h3",37),s(5,"Aucun artisan trouv\xE9"),i(),n(6,"p",38),s(7," Essayez de modifier vos crit\xE8res de recherche ou de s\xE9lectionner une autre cat\xE9gorie. "),i()()())}var dt=(()=>{class a{constructor(t,e,r){this.router=t,this.route=e,this.artisansService=r,this.searchTerm="",this.selectedCategory="all",this.filteredArtisans=[],this.allArtisans=[],this.destroyRef=M(P)}ngOnInit(){this.artisansService.getArtisans().pipe(v(this.destroyRef)).subscribe({next:t=>{this.allArtisans=t,this.initializeFilters()},error:t=>{console.error("Erreur lors du chargement des artisans:",t),this.filteredArtisans=[]}})}initializeFilters(){this.router.events.pipe(C(e=>e instanceof V),v(this.destroyRef)).subscribe(e=>{let r=e.url.split("?")[0].replace("/","");switch(r){case"batiments":case"services":case"fabrication":case"alimentation":this.selectedCategory=r;break;default:this.selectedCategory="all"}this.filterArtisans()});let t=this.router.url.split("?")[0].replace("/","");switch(t){case"batiments":case"services":case"fabrication":case"alimentation":this.selectedCategory=t;break;default:this.selectedCategory="all"}this.route.queryParams.pipe(v(this.destroyRef)).subscribe(e=>{e.search?this.searchTerm=e.search:this.searchTerm="",this.filterArtisans()}),this.filterArtisans()}getPageTitle(){switch(this.selectedCategory){case"batiments":return"Artisans du B\xE2timent";case"services":return"Services \xE0 Domicile";case"fabrication":return"Artisans de Fabrication";case"alimentation":return"Artisans de l'Alimentation";default:return"Tous nos Artisans"}}filterByCategory(t){this.selectedCategory=t,this.filterArtisans()}filterArtisans(){let t=this.allArtisans;if(this.selectedCategory!=="all"&&(t=t.filter(e=>e.categorie===this.selectedCategory)),this.searchTerm.trim()){let e=this.searchTerm.toLowerCase().trim();t=t.filter(r=>r.nom.toLowerCase().includes(e)||r.specialite.toLowerCase().includes(e)||r.ville.toLowerCase().includes(e)||r.entreprise&&r.entreprise.toLowerCase().includes(e))}this.filteredArtisans=t}goToArtisanDetail(t){this.router.navigate(["/artisan",t])}trackByArtisan(t,e){return e.id}getStars(t){let e=Math.floor(t);return Array(e).fill(0)}static{this.\u0275fac=function(e){return new(e||a)(h(D),h(j),h(N))}}static{this.\u0275cmp=w({type:a,selectors:[["app-artisans-list"]],standalone:!0,features:[I],decls:16,vars:8,consts:[[1,"min-h-screen","bg-primary-light","pt-20","md:pt-24"],[1,"container","pb-8"],[1,"bg-white","rounded-lg","p-4","md:p-6","lg:p-8","mb-12","shadow-lg","mt-6"],[1,"text-xl","sm:text-2xl","md:text-3xl","lg:text-4xl","font-bold","text-text-dark","mb-3","md:mb-4"],[1,"text-sm","md:text-base","text-gray-600","mb-4","md:mb-6"],[1,"search-input-wrapper"],["type","text","placeholder","Rechercher un artisan...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"search-btn"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6","md:gap-8"],["class","artisan-card bg-white rounded-lg p-4 md:p-6 shadow-lg cursor-pointer transition-all duration-200 border border-transparent hover:border-primary hover:shadow-xl touch-manipulation",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12 md:py-16",4,"ngIf"],[1,"artisan-card","bg-white","rounded-lg","p-4","md:p-6","shadow-lg","cursor-pointer","transition-all","duration-200","border","border-transparent","hover:border-primary","hover:shadow-xl","touch-manipulation",3,"click"],[1,"mb-3","md:mb-4"],[1,"text-base","md:text-lg","font-bold","text-text-dark","mb-1","leading-tight"],["class","text-xs md:text-sm text-gray-600 italic",4,"ngIf"],[1,"flex","items-center","space-x-2","mb-3"],[1,"flex","space-x-1"],["class","w-4 h-4 text-yellow-400 fill-current","viewBox","0 0 20 20",4,"ngFor","ngForOf"],[1,"text-xs","md:text-sm","font-semibold","text-gray-600"],[1,"mb-3"],[1,"inline-block","bg-primary-light","text-primary","text-xs","md:text-sm","font-semibold","px-3","py-1","rounded-full","border","border-primary/30"],[1,"flex","items-center","space-x-2","text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-primary","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-xs","md:text-sm","font-medium"],[1,"hidden","md:block","absolute","top-4","right-4","opacity-0","group-hover:opacity-100","transition-all"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"text-xs","md:text-sm","text-gray-600","italic"],["viewBox","0 0 20 20",1,"w-4","h-4","text-yellow-400","fill-current"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"text-center","py-12","md:py-16"],[1,"bg-white","rounded-lg","p-6","md:p-8","shadow-lg","max-w-md","mx-auto"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","md:w-16","md:h-16","text-gray-400","mx-auto","mb-4"],[1,"text-lg","md:text-xl","font-bold","text-text-dark","mb-2"],[1,"text-sm","md:text-base","text-gray-600","leading-relaxed"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4),i(),n(5,"p",4),s(6),i(),n(7,"div")(8,"div",5)(9,"input",6),L("ngModelChange",function(y){return T(r.searchTerm,y)||(r.searchTerm=y),y}),_("input",function(){return r.filterArtisans()}),i(),n(10,"button",7),l(),n(11,"svg",8),c(12,"path",9),i()()()()(),g(),n(13,"div",10),d(14,Z,22,6,"div",11),i(),d(15,$,8,0,"div",12),i()()),e&2&&(o(4),x(" ",r.getPageTitle()," "),o(2),S(" ",r.filteredArtisans.length," artisan",r.filteredArtisans.length>1?"s":""," trouv\xE9",r.filteredArtisans.length>1?"s":""," "),o(3),E("ngModel",r.searchTerm),o(5),m("ngForOf",r.filteredArtisans)("ngForTrackBy",r.trackByArtisan),o(),m("ngIf",r.filteredArtisans.length===0))},dependencies:[R,F,B,G,W,H,U,Y,z],styles:['@charset "UTF-8";[_nghost-%COMP%]{--primary-light: #f1f8fc;--primary: #0074c7;--primary-dark: #00497c;--text-dark: #384050;--accent-red: #cd2c2e;--accent-green: #82b864}.bg-primary-light[_ngcontent-%COMP%]{background-color:var(--primary-light)}.bg-primary[_ngcontent-%COMP%]{background-color:var(--primary)}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-primary-dark[_ngcontent-%COMP%]{color:var(--primary-dark)}.text-text-dark[_ngcontent-%COMP%]{color:var(--text-dark)}.border-primary[_ngcontent-%COMP%]{border-color:var(--primary)}.focus\\:ring-primary[_ngcontent-%COMP%]:focus{--tw-ring-color: var(--primary)}.hover\\:border-primary[_ngcontent-%COMP%]:hover{border-color:var(--primary)}.touch-manipulation[_ngcontent-%COMP%]{touch-action:manipulation;-webkit-tap-highlight-color:transparent}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 3rem .75rem 1rem;border:none;border-radius:.5rem;background-color:#ffffffe6;color:#384050;font-size:1rem;outline:none;transition:all .2s ease;font-size:16px;-webkit-appearance:none}.search-input[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:0 0 0 2px #0074c74d}.search-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;background:none;border:none;color:#0074c7;cursor:pointer;padding:.5rem;border-radius:.25rem;transition:all .2s ease}.search-btn[_ngcontent-%COMP%]:hover{background-color:#0074c71a;color:#00497c}.artisan-card[_ngcontent-%COMP%]{position:relative;animation:_ngcontent-%COMP%_slideInUp .4s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.artisan-card[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (min-width: 768px){.artisan-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px #0074c726}.artisan-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.artisan-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.15s}.artisan-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}.artisan-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.25s}.artisan-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.3s}.artisan-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.35s}.artisan-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary),var(--accent-green));transform:scaleX(0);transition:transform .3s ease}.artisan-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}}@media (min-width: 1024px){.artisan-card[_ngcontent-%COMP%]{transition:all .3s ease}.artisan-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 25px 35px -5px #0074c733}.artisan-card[_ngcontent-%COMP%]{group:true}}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary);outline-offset:2px}.artisan-card[_ngcontent-%COMP%]{transform:translateZ(0);will-change:transform}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important;color:#384050!important}@media (prefers-color-scheme: dark){.bg-white[_ngcontent-%COMP%]{background-color:#fff!important;color:#384050!important}input[_ngcontent-%COMP%]{background-color:var(--primary-light)!important;color:#384050!important;border-color:#0074c74d!important}}']})}}return a})();export{dt as ArtisansListComponent};

import{e as n,f as a,i as o,j as c,ka as l,n as h,q as p}from"./chunk-XIRYAAX2.js";var C=(()=>{class s{constructor(r){this.http=r,this.artisansUrl="assets/data/artisans.json"}getArtisans(){return this.artisansCache$||(this.artisansCache$=this.http.get(this.artisansUrl).pipe(c(1),o(r=>(console.error("Erreur lors du chargement des artisans:",r),this.artisansCache$=void 0,n(()=>new Error("Impossible de charger les artisans")))))),this.artisansCache$}getArtisanById(r){return this.getArtisans().pipe(a(t=>t.find(e=>e.id===r)))}searchArtisans(r){return this.getArtisans().pipe(a(t=>{let e=r.toLowerCase().trim();return e?t.filter(i=>i.nom.toLowerCase().includes(e)||i.specialite.toLowerCase().includes(e)||i.ville.toLowerCase().includes(e)||i.entreprise&&i.entreprise.toLowerCase().includes(e)):t}))}getArtisansByCategory(r){return this.getArtisans().pipe(a(t=>r==="all"?t:t.filter(e=>e.categorie===r)))}clearCache(){this.artisansCache$=void 0}static{this.\u0275fac=function(t){return new(t||s)(p(l))}}static{this.\u0275prov=h({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{C as a};
